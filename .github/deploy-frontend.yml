# name: Deploy Frontend to Vercel

# on:
#   push:
#     branches:
#       - main
#       - develop
#     paths:
#       - 'frontend/**'
#       - '.github/workflows/deploy-frontend.yml'
#   pull_request:
#     branches:
#       - main
#       - develop
#     paths:
#       - 'frontend/**'

# jobs:
#   lint-and-test:
#     name: Lint and Test Frontend
#     runs-on: ubuntu-latest
    
#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v4

#       - name: Setup Node.js
#         uses: actions/setup-node@v4
#         with:
#           node-version: '20'
#           cache: 'npm'
#           cache-dependency-path: frontend/package-lock.json

#       - name: Install dependencies
#         working-directory: ./frontend
#         run: npm ci

#       - name: Run linter
#         working-directory: ./frontend
#         run: npm run lint

#       - name: Type check
#         working-directory: ./frontend
#         run: npx tsc --noEmit

#   deploy-preview:
#     name: Deploy Preview to Vercel
#     runs-on: ubuntu-latest
#     needs: lint-and-test
#     if: github.event_name == 'pull_request'
    
#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v4

#       - name: Setup Node.js
#         uses: actions/setup-node@v4
#         with:
#           node-version: '20'

#       - name: Install Vercel CLI
#         run: npm install --global vercel@latest

#       - name: Pull Vercel Environment Information
#         working-directory: ./frontend
#         run: vercel pull --yes --environment=preview --token=${{ secrets.VERCEL_TOKEN }}

#       - name: Build Project Artifacts
#         working-directory: ./frontend
#         run: vercel build --token=${{ secrets.VERCEL_TOKEN }}

#       - name: Deploy Preview to Vercel
#         working-directory: ./frontend
#         run: |
#           url=$(vercel deploy --prebuilt --token=${{ secrets.VERCEL_TOKEN }})
#           echo "Preview URL: $url"
#           echo "PREVIEW_URL=$url" >> $GITHUB_ENV

#       - name: Comment PR with Preview URL
#         uses: actions/github-script@v7
#         if: github.event_name == 'pull_request'
#         with:
#           script: |
#             github.rest.issues.createComment({
#               issue_number: context.issue.number,
#               owner: context.repo.owner,
#               repo: context.repo.repo,
#               body: `âœ… Preview deployment ready!\n\nðŸ”— Preview URL: ${process.env.PREVIEW_URL}`
#             })

#   deploy-production:
#     name: Deploy to Vercel Production
#     runs-on: ubuntu-latest
#     needs: lint-and-test
#     if: github.event_name == 'push' && github.ref == 'refs/heads/main'
    
#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v4

#       - name: Setup Node.js
#         uses: actions/setup-node@v4
#         with:
#           node-version: '20'

#       - name: Install Vercel CLI
#         run: npm install --global vercel@latest

#       - name: Pull Vercel Environment Information
#         working-directory: ./frontend
#         run: vercel pull --yes --environment=production --token=${{ secrets.VERCEL_TOKEN }}

#       - name: Build Project Artifacts
#         working-directory: ./frontend
#         run: vercel build --prod --token=${{ secrets.VERCEL_TOKEN }}

#       - name: Deploy Production to Vercel
#         working-directory: ./frontend
#         run: vercel deploy --prebuilt --prod --token=${{ secrets.VERCEL_TOKEN }}

#   deploy-staging:
#     name: Deploy to Vercel Staging
#     runs-on: ubuntu-latest
#     needs: lint-and-test
#     if: github.event_name == 'push' && github.ref == 'refs/heads/develop'
    
#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v4

#       - name: Setup Node.js
#         uses: actions/setup-node@v4
#         with:
#           node-version: '20'

#       - name: Install Vercel CLI
#         run: npm install --global vercel@latest

#       - name: Pull Vercel Environment Information
#         working-directory: ./frontend
#         run: vercel pull --yes --environment=preview --token=${{ secrets.VERCEL_TOKEN }}

#       - name: Build Project Artifacts
#         working-directory: ./frontend
#         run: vercel build --token=${{ secrets.VERCEL_TOKEN }}

#       - name: Deploy Staging to Vercel
#         working-directory: ./frontend
#         run: vercel deploy --prebuilt --token=${{ secrets.VERCEL_TOKEN }}